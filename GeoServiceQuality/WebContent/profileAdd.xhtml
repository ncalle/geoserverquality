<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://java.sun.com/jsf/core">
      
<head>

 	<meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
	
	<title>Ingresar Perfil</title> 

	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"/>
	<link href="./css/form_add.css" rel="stylesheet"/>
</head>

<h:body>

      <nav class="navbar navbar-static-top navbar-dark bg-inverse navbar-inverse">
      <a class="navbar-brand" href="#">GeoServiceQuality</a>
      <ul class="nav navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/welcome.jsp">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/measurableObjectList.xhtml">Objetos de evaluación</a>
        </li>
         <li class="nav-item active">
          <a class="nav-link" href="${request.contextPath}/profileList.xhtml">Perfiles<span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/evaluationList.xhtml">Evaluaciones</a>
        </li>
          <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/welcome.jsp">Reportes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/userList.xhtml">Usuarios</a>
        </li>
         <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/welcome.jsp">Acerca</a>
        </li>
      
       </ul>
       <ul class="nav navbar-nav navbar-right">
	      <li><a href="${request.contextPath}/logoutServlet"><span class="glyphicon glyphicon-log-in"></span> Logout</a></li>
	  </ul>
    </nav>


    <div class="container">
    
    	<h:form id="evobject" class="form-signin" action="" method="post">
	    	<h2 class="form-signin-heading">Ingresar perfil</h2>
	
	      	<hr></hr>
	      	
	      	<div class="panel panel-default">
			  <div class="panel-body">
	      	
		      	<label for="inputName" class="sr-only">Nombre</label>
		      	<h:inputText id="name" value="#{profileBean.name}" class="form-control" a:placeholder="Nombre" required="autofocus"/>
		        <br></br>
        
		        <label for="inputType">Granularidad </label>
		        <br></br>
				<h:selectOneMenu value="#{profileBean.granularity}">
					<f:selectItem itemValue="Ide" itemLabel="Ide"/>
					<f:selectItem itemValue="Institucion" itemLabel="Institución"/>
					<f:selectItem itemValue="Nodo" itemLabel="Nodo"/>
					<f:selectItem itemValue="Capa" itemLabel="Capa"/>
					<f:selectItem itemValue="Servicio" itemLabel="Servicio"/>
				</h:selectOneMenu>
				<br></br>
				<br></br>
					
		       <label for="inputType">Lista de Métricas </label>
		       	<h:dataTable styleClass="table table-striped" value="#{profileBean.listMetricsAdd}" var="item">
		      		<h:column>
						<f:facet name="header"> ID</f:facet>
						<h:outputText value="#{item.metricID}" />
					</h:column>
					
					<h:column>
						<f:facet name="header"> Nombre</f:facet>
						 <h:outputText value="#{item.name}" />
					</h:column>
					
				</h:dataTable>
		       
				<!--Metricas-->	
	      		
	      		<div class="panel panel-default">
			    <div class="panel-body">
			    
				    <label for="inputType">Seleccione una métrica</label>
			        <br></br>
					<h:selectOneMenu value="#{profileBean.selectedMetricId}">
						<f:selectItems value="#{profileBean.listMetrics}" var="m" itemValue="#{m.metricID}" itemLabel="#{m.name}" />
					</h:selectOneMenu>
					<br></br>
					<br></br>
			    	<h:commandButton id="add" value="Agregar Métrica" action="#{profileBean.addMetric()}"  class="btn btn-lg btn-primary btn-block"/>
		          
		        </div>
			    </div>
			    
			    
			    <br></br>
			   <h:commandButton id="save" value="Guardar" action="#{profileBean.save()}" class="btn btn-lg btn-primary btn-block"/>
		       <h:messages globalOnly="true" />
        </div>
		</div>
		 	
	 	<div class="panel panel-default">
		  <div class="panel-body">
		  
	  		<a class="btn btn-default" href="${request.contextPath}/profileList.xhtml">Volver
	  		<span class="glyphicon glyphicon-arrow-left" aria-hidden="true" ></span></a>
		
		  </div>
		</div>
     </h:form>
	  
	</div> 

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <script src="../../assets/js/vendor/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
    
</h:body>
</html>