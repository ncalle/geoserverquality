<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://java.sun.com/jsf/core">
      
<head>

 	<meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
	
	<title>Evaluaciones</title> 

	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"/>
	<link href="./css/form_list.css" rel="stylesheet"/>
</head>

<h:body>

      <nav class="navbar navbar-static-top navbar-dark bg-inverse navbar-inverse">
      <a class="navbar-brand" href="#">GeoServiceQuality</a>
      <ul class="nav navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/welcome.jsp">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/measurableObjectList.xhtml">Objetos Medibles</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/profileList.xhtml">Perfiles</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="${request.contextPath}/evaluationList.xhtml">Evaluaciones<span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/reports.xhtml">Reportes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/userList.xhtml">Usuarios</a>
        </li>
		<li class="nav-item"><a class="nav-link"
			href="${request.contextPath}/qualityModelList.xhtml">Modelo de Calidad</a>
		</li>        
        <li class="nav-item">
          <a class="nav-link" href="${request.contextPath}/welcome.jsp">Acerca</a>
        </li>
      
       </ul>
       <ul class="nav navbar-nav navbar-right">
	      <li><a href="${request.contextPath}/logoutServlet"><span class="glyphicon glyphicon-log-in"></span> Logout</a></li>
	  </ul>
    </nav>


    <div class="container">
    
    	<h:form id="evobject" class="form-signin" action="" method="post">
	    	<h2 class="form-signin-heading">Evaluaciones</h2>
	
	      	<hr></hr>
	      	
	      	
      		<div class="panel panel-default">
		    <div class="panel-body">
		    
			    <label for="inputType">Seleccione un perfil</label>
		        <br></br>
				<h:selectOneMenu value="#{evaluationBeanList.selectedProfileId}" >
					<f:selectItems value="#{evaluationBeanList.listProfile}" var="p" itemValue="#{p.profileId}" itemLabel="#{p.profileId} - #{p.name}" />
				</h:selectOneMenu>
				<br></br>
				<br></br>
				
				
				<label for="inputType">Seleccione un objeto de evaluaci√≥n</label>
		        <br></br>
				<h:selectOneMenu style="width:900px;" value="#{evaluationBeanList.selectedObjectId}" >
					<f:selectItems style="width:900px;" value="#{evaluationBeanList.listObjects}" var="o" itemValue="#{o.measurableObjectID}" itemLabel="#{o.measurableObjectURL}" />
				</h:selectOneMenu>
				<br></br>
				<br></br>
				
				<br></br>
			   <h:commandButton id="evaluate" value="Evaluar" action="#{evaluationBeanList.evaluate()}" class="btn btn-lg btn-primary btn-block"/>
		       <h:messages globalOnly="true" />
	          
	        </div>
		    </div>
		
	      	
	      	<div class="panel panel-default">
			  <div class="panel-body">
	      	
		      	<h:dataTable styleClass="table table-striped" value="#{evaluationBeanList.list}" var="item">
		      		<h:column>
						<f:facet name="header"> ID Evaluacion</f:facet>
						<h:outputText value="#{item.evaluationID}" />
					</h:column>
					
					<h:column>
						<f:facet name="header"> ID Usuario</f:facet>
						 <h:outputText value="#{item.userID}" />
					</h:column>
					
					<h:column>
						<f:facet name="header"> ID Perfil</f:facet>
						 <h:outputText value="#{item.profileID}" />
					</h:column>
					
					<h:column>
						<f:facet name="header"> Completa</f:facet>
						 <h:outputText value="#{item.isEvaluationCompleted}" />
					</h:column>
							
					<h:column>
						<f:facet name="header"> Resultado</f:facet>
						<h:outputText value="#{item.success}" />
					</h:column>
					
				</h:dataTable>
					
        	</div>
		</div>
		 	
     </h:form>
	  
	</div> 

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <script src="../../assets/js/vendor/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
    
</h:body>
</html>